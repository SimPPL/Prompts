"""
prompt = (
        f"Based on the input question: '{state['question']}', determine whether a visualization is needed. "
        "If a visualization is not helpful, return an empty string.\n\n"
        "Here is the data:\n"
        f"{state['sql_result'][:6]}\n\n"
        "Now consider:\n"
        "- Do we have quantifiable metrics?\n"
        "- Is the data sufficient to create a meaningful chart?\n"
        "If the answer to either is no, return an empty string.\n\n"
        "If yes, proceed with the following steps:\n"
        "1. Briefly answer the question based on the data (internally).\n"
        "2. Ensure the data is well-structured for chart generation and properly formatted.\n"
        "3. Determine the most suitable chart type (supported by QuickChart/Chart.js).\n"
        "4. Generate the corresponding Chart.js config (as a JSON object), ensuring all necessary components are included.\n"
        "5. URL-encode the JSON config carefully, checking that special characters are properly encoded.\n"
        "6. Validate the encoded link to ensure it's working properly.\n"
        "7. Return only the final QuickChart URL in the following format:\n"
        "'https://quickchart.io/chart?c=ENCODED_JSON_HERE'.\n"
        "If the encoded URL is invalid, return an empty string instead.\n"
        "Do not return any explanation, markdown, or formattingâ€”return only the plain URL."
    )
"""
